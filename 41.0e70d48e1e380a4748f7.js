"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[41],{5041:(F,u,a)=>{a.r(u),a.d(u,{DemographicsModule:()=>U});var r=a(8583),c=a(3423),h=a(27),g=a(1974),d=a(8049),t=a(7716),p=a(3227),C=a(1095),m=a(8295),f=a(7441),v=a(2458),y=a(7154),D=a(9804);let T=(()=>{class o{constructor(){}ngAfterContentInit(){this.initOptions()}initOptions(){this.options={tooltip:{trigger:"axis"},title:{left:"center",text:"Large Area Chart"},xAxis:{type:"category",boundaryGap:!1,data:"time"},yAxis:{type:"value",boundaryGap:[0,"100%"]},series:[{name:this.countries[0].name,type:"line",smooth:!0,emphasis:{focus:"series"},itemStyle:{color:"green"},data:[this.countries[0].value],endLabel:{show:!0,formatter:function(e){return e.seriesName+": "+e.value}}},{name:this.countries[1].name,type:"line",smooth:!0,emphasis:{focus:"series"},itemStyle:{color:"red"},data:[this.countries[1].value],endLabel:{show:!0,formatter:function(e){return e.seriesName+": "+e.value}}}]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-population-live"]],inputs:{countries:"countries"},decls:1,vars:1,consts:[["echarts","",3,"options"]],template:function(e,n){1&e&&t._UZ(0,"div",0),2&e&&t.Q6J("options",n.options)},directives:[D._w],styles:[""],changeDetection:0}),o})();const Z=["chart"];function P(o,i){if(1&o&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.data),t.xp6(1),t.AsE(" ",e.viewValue," ",e.data.icon," ")}}function A(o,i){if(1&o&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.data),t.xp6(1),t.AsE(" ",e.viewValue," ",e.data.icon," ")}}function S(o,i){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-basic-echarts",8,9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("data",e.data)("title",e.title)}}function J(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1,"Select countries"),t.qZA())}const M=function(o,i){return[o,i]};function x(o,i){if(1&o&&t._UZ(0,"app-population-live",10),2&o){const e=t.oxw();t.Q6J("countries",t.WLB(1,M,e.selectedCountry1,e.selectedCountry2))}}const Q=[{path:h._.empty,component:(()=>{class o{constructor(e,n){this.httpCountryService=e,this.countryModuleStoreService=n,this.countries=[],this.options={},this.selectedCountries=[],this.data=[],this.title={title:"",subtext:""},this.handleCountriesList=s=>{this.countriesData=s,this.getCountriesList(),this.countryModuleStoreService.allCountriesData.next(s)}}ngOnDestroy(){this.chart&&g.dispose(this.chart)}ngOnInit(){this.countryModuleStoreService.allCountriesData.value?(this.countriesData=this.countryModuleStoreService.allCountriesData.value,this.getCountriesList()):this.httpCountryService.getCountriesData().pipe((0,d.P)()).subscribe(this.handleCountriesList)}getCountriesList(){this.countriesData.forEach(e=>{this.countries.push({data:{name:e.name.common,value:e.population,icon:e.flag},viewValue:e.name.common})})}onChangeCountry(){this.setChartTitle(),this.setChartData(),this.selectedCountry1&&this.selectedCountry2&&setTimeout(()=>{this.chart.updateChart(this.data,this.title)},5)}setChartTitle(){this.selectedCountry1&&this.selectedCountry2&&(this.title={title:this.selectedCountry1.name+" vs "+this.selectedCountry2.name,subtext:"Population"})}setChartData(){this.data=[this.selectedCountry1,this.selectedCountry2]}trackByName(e,n){return n.name}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.wm),t.Y36(p.vQ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-demographic-page"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z,5),2&e){let s;t.iGM(s=t.CRH())&&(n.chart=s.first)}},decls:16,vars:7,consts:[["routerLink","..","mat-raised-button","","color","primary"],["appearance","fill"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noSelected",""],[3,"countries",4,"ngIf"],[3,"value"],[3,"data","title"],["chart",""],[3,"countries"]],template:function(e,n){if(1&e&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"mat-form-field",1),t.TgZ(3,"mat-label"),t._uU(4,"Select country 1"),t.qZA(),t.TgZ(5,"mat-select",2),t.NdJ("selectionChange",function(){return n.onChangeCountry()})("valueChange",function(l){return n.selectedCountry1=l}),t.YNc(6,P,2,3,"mat-option",3),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",1),t.TgZ(8,"mat-label"),t._uU(9,"Select country 2"),t.qZA(),t.TgZ(10,"mat-select",2),t.NdJ("selectionChange",function(){return n.onChangeCountry()})("valueChange",function(l){return n.selectedCountry2=l}),t.YNc(11,A,2,3,"mat-option",3),t.qZA(),t.qZA(),t.YNc(12,S,3,2,"div",4),t.YNc(13,J,2,0,"ng-template",null,5,t.W1O),t.YNc(15,x,1,4,"app-population-live",6)),2&e){const s=t.MAs(14);t.xp6(5),t.Q6J("value",n.selectedCountry1),t.xp6(1),t.Q6J("ngForOf",n.countries),t.xp6(4),t.Q6J("value",n.selectedCountry2),t.xp6(1),t.Q6J("ngForOf",n.countries),t.xp6(1),t.Q6J("ngIf",n.selectedCountry2&&n.selectedCountry1)("ngIfElse",s),t.xp6(3),t.Q6J("ngIf",n.selectedCountry2&&n.selectedCountry1)}},directives:[C.lW,c.rH,m.KE,m.hX,f.gD,r.sg,r.O5,v.ey,y.r,T],styles:[".hide-elm[_ngcontent-%COMP%]{display:none}.show-elm[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Q)],c.Bz]}),o})();var N=a(8493);let U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.ez,O,N.m]]}),o})()}}]);