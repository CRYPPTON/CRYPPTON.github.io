"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[41],{5041:(F,u,i)=>{i.r(u),i.d(u,{DemographicsModule:()=>U});var r=i(8583),c=i(3423),h=i(27),g=i(1974),d=i(8049),e=i(7716),p=i(3227),C=i(1095),m=i(8295),f=i(7441),v=i(2458),y=i(7154),D=i(1402);let T=(()=>{class o{constructor(){}ngAfterContentInit(){this.initOptions()}initOptions(){this.options={tooltip:{trigger:"axis"},title:{left:"center",text:"Large Area Chart"},xAxis:{type:"category",boundaryGap:!1,data:"time"},yAxis:{type:"value",boundaryGap:[0,"100%"]},series:[{name:this.countries[0].name,type:"line",smooth:!0,emphasis:{focus:"series"},itemStyle:{color:"green"},data:[this.countries[0].value],endLabel:{show:!0,formatter:function(t){return t.seriesName+": "+t.value}}},{name:this.countries[1].name,type:"line",smooth:!0,emphasis:{focus:"series"},itemStyle:{color:"red"},data:[this.countries[1].value],endLabel:{show:!0,formatter:function(t){return t.seriesName+": "+t.value}}}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-population-live"]],inputs:{countries:"countries"},decls:1,vars:1,consts:[["echarts","",3,"options"]],template:function(t,n){1&t&&e._UZ(0,"div",0),2&t&&e.Q6J("options",n.options)},directives:[D._w],styles:[""],changeDetection:0}),o})();const Z=["chart"];function P(o,a){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.data),e.xp6(1),e.AsE(" ",t.viewValue," ",t.data.icon," ")}}function A(o,a){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.data),e.xp6(1),e.AsE(" ",t.viewValue," ",t.data.icon," ")}}function J(o,a){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-basic-echarts",8,9),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("data",t.data)("title",t.title)}}function Q(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1,"Select countries"),e.qZA())}const S=function(o,a){return[o,a]};function x(o,a){if(1&o&&e._UZ(0,"app-population-live",10),2&o){const t=e.oxw();e.Q6J("countries",e.WLB(1,S,t.selectedCountry1,t.selectedCountry2))}}const L=[{path:h._.empty,component:(()=>{class o{constructor(t,n){this.httpCountryService=t,this.countryModuleStoreService=n,this.countries=[{data:{name:"",value:"",icon:""},viewValue:""}],this.options={},this.selectedCountries=[],this.data=[],this.title={title:"",subtext:""}}ngOnDestroy(){this.chart&&g.dispose(this.chart)}ngOnInit(){this.httpCountryService.getCountriesData().pipe((0,d.P)()).subscribe(t=>{this.countriesData=t,this.getCountriesList(),this.countryModuleStoreService.allCountriesData=t})}getCountriesList(){this.countriesData.forEach(t=>{this.countries.push({data:{name:t.name.common,value:t.population,icon:t.flag},viewValue:t.name.common})})}onChangeCountry(){this.setChartTitle(),this.setChartData(),this.selectedCountry1&&this.selectedCountry2&&setTimeout(()=>{this.chart.updateChart(this.data,this.title)},5)}setChartTitle(){this.selectedCountry1&&this.selectedCountry2&&(this.title={title:this.selectedCountry1.name+" vs "+this.selectedCountry2.name,subtext:"Population"})}setChartData(){this.data=[this.selectedCountry1,this.selectedCountry2]}trackByName(t,n){return n.name}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.wm),e.Y36(p.vQ))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-demographic-page"]],viewQuery:function(t,n){if(1&t&&e.Gf(Z,5),2&t){let s;e.iGM(s=e.CRH())&&(n.chart=s.first)}},decls:16,vars:7,consts:[["routerLink","..","mat-raised-button","","color","primary"],["appearance","fill"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noSelected",""],[3,"countries",4,"ngIf"],[3,"value"],[3,"data","title"],["chart",""],[3,"countries"]],template:function(t,n){if(1&t&&(e.TgZ(0,"button",0),e._uU(1,"Back"),e.qZA(),e.TgZ(2,"mat-form-field",1),e.TgZ(3,"mat-label"),e._uU(4,"Select country 1"),e.qZA(),e.TgZ(5,"mat-select",2),e.NdJ("selectionChange",function(){return n.onChangeCountry()})("valueChange",function(l){return n.selectedCountry1=l}),e.YNc(6,P,2,3,"mat-option",3),e.qZA(),e.qZA(),e.TgZ(7,"mat-form-field",1),e.TgZ(8,"mat-label"),e._uU(9,"Select country 2"),e.qZA(),e.TgZ(10,"mat-select",2),e.NdJ("selectionChange",function(){return n.onChangeCountry()})("valueChange",function(l){return n.selectedCountry2=l}),e.YNc(11,A,2,3,"mat-option",3),e.qZA(),e.qZA(),e.YNc(12,J,3,2,"div",4),e.YNc(13,Q,2,0,"ng-template",null,5,e.W1O),e.YNc(15,x,1,4,"app-population-live",6)),2&t){const s=e.MAs(14);e.xp6(5),e.Q6J("value",n.selectedCountry1),e.xp6(1),e.Q6J("ngForOf",n.countries),e.xp6(4),e.Q6J("value",n.selectedCountry2),e.xp6(1),e.Q6J("ngForOf",n.countries),e.xp6(1),e.Q6J("ngIf",n.selectedCountry2&&n.selectedCountry1)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",n.selectedCountry2&&n.selectedCountry1)}},directives:[C.lW,c.rH,m.KE,m.hX,f.gD,r.sg,r.O5,v.ey,y.r,T],styles:[".hide-elm[_ngcontent-%COMP%]{display:none}.show-elm[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),o})();var N=i(8493);let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[r.ez,O,N.m]]}),o})()}}]);