"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[523],{4523:(O,u,n)=>{n.r(u),n.d(u,{DemographicsModule:()=>Q});var r=n(8583),c=n(4655),p=n(27),g=n(1974),t=n(7716),m=n(3222),d=n(1095),h=n(8295),C=n(7441),f=n(2458),v=n(7154);const y=["chart"];function D(o,i){if(1&o&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.data),t.xp6(1),t.AsE(" ",e.viewValue," ",e.data.icon," ")}}function T(o,i){if(1&o&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.data),t.xp6(1),t.AsE(" ",e.viewValue," ",e.data.icon," ")}}function Z(o,i){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-basic-echarts",7,8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("data",e.data)("title",e.title)}}function A(o,i){1&o&&(t.TgZ(0,"div"),t._uU(1,"Select countries"),t.qZA())}const S=[{path:p._.empty,component:(()=>{class o{constructor(e,a){this.httpCountryService=e,this.countryModuleStoreService=a,this.countries=[{data:{name:"",value:"",icon:""},viewValue:""}],this.options={},this.data=[],this.title={title:"",subtext:""}}ngOnDestroy(){g.dispose(this.chart)}ngOnInit(){this.countryModuleStoreService.allCountriesData?(this.countriesData=this.countryModuleStoreService.allCountriesData,this.getCountriesList()):this.httpCountryService.getCountriesData().subscribe(e=>{this.countriesData=e,this.getCountriesList(),this.countryModuleStoreService.allCountriesData=e})}getCountriesList(){this.countriesData.forEach(e=>{this.countries.push({data:{name:e.name.common,value:e.population,icon:e.flag},viewValue:e.name.common})})}onChangeCountry(){this.setChartTitle(),this.setChartData(),this.selectedCountry1&&this.selectedCountry2&&setTimeout(()=>{this.chart.updateChart(this.data,this.title)},5)}setChartTitle(){this.selectedCountry1&&this.selectedCountry2&&(this.title={title:this.selectedCountry1.name+" vs "+this.selectedCountry2.name,subtext:"Population"})}setChartData(){this.data=[this.selectedCountry1,this.selectedCountry2]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.wm),t.Y36(m.vQ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-demographic-page"]],viewQuery:function(e,a){if(1&e&&t.Gf(y,5),2&e){let s;t.iGM(s=t.CRH())&&(a.chart=s.first)}},decls:15,vars:6,consts:[["routerLink","..","mat-raised-button","","color","primary"],["appearance","fill"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noSelected",""],[3,"value"],[3,"data","title"],["chart",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"mat-form-field",1),t.TgZ(3,"mat-label"),t._uU(4,"Select country 1"),t.qZA(),t.TgZ(5,"mat-select",2),t.NdJ("selectionChange",function(){return a.onChangeCountry()})("valueChange",function(l){return a.selectedCountry1=l}),t.YNc(6,D,2,3,"mat-option",3),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",1),t.TgZ(8,"mat-label"),t._uU(9,"Select country 2"),t.qZA(),t.TgZ(10,"mat-select",2),t.NdJ("selectionChange",function(){return a.onChangeCountry()})("valueChange",function(l){return a.selectedCountry2=l}),t.YNc(11,T,2,3,"mat-option",3),t.qZA(),t.qZA(),t.YNc(12,Z,3,2,"div",4),t.YNc(13,A,2,0,"ng-template",null,5,t.W1O)),2&e){const s=t.MAs(14);t.xp6(5),t.Q6J("value",a.selectedCountry1),t.xp6(1),t.Q6J("ngForOf",a.countries),t.xp6(4),t.Q6J("value",a.selectedCountry2),t.xp6(1),t.Q6J("ngForOf",a.countries),t.xp6(1),t.Q6J("ngIf",a.selectedCountry2&&a.selectedCountry1)("ngIfElse",s)}},directives:[d.lW,c.rH,h.KE,h.hX,C.gD,r.sg,r.O5,f.ey,v.r],styles:[".hide-elm[_ngcontent-%COMP%]{display:none}.show-elm[_ngcontent-%COMP%]{display:block}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(S)],c.Bz]}),o})();var J=n(8624);let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.ez,M,J.m]]}),o})()}}]);