"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[708],{7708:(F,g,o)=>{o.r(g),o.d(g,{GuessCountriesModule:()=>S});var p=o(8583),r=o(4655),d=o(27),C=o(5321),i=(()=>{return(s=i||(i={})).guessCountry="guessCountry",s.guessFlag="guessFlag",s.guessCity="guessCity",i;var s})(),f=o(5319),t=o(7716),m=o(9910),l=o(1095),y=o(1215);let v=(()=>{class s{constructor(e,n,u,c){this.httpCountryService=e,this.cdr=n,this.snackBarService=u,this.route=c,this.guessSubscription$=new f.w,this.geoJsonUrl="assets/geo-json/countries2.json",this.mapType=C.z.countryGuessMap,this.dataList=[],this.guessed=0}initPathParam(){this.guessSubscription$=this.route.params.subscribe(e=>{this.pageMode=e.page})}ngOnInit(){this.initPathParam(),this.httpCountryService.getCountriesData().subscribe(e=>{this.data=e;for(const n of e)this.pageMode===i.guessCountry&&this.dataList.push(n.name.common),this.pageMode===i.guessFlag&&this.dataList.push(n.flag),this.pageMode===i.guessCity&&n.capital&&this.dataList.push(n.capital[0]);this.guess=this.generateRandomCountry()})}onGuessCountry(e){let n;this.pageMode==i.guessFlag&&(e=this.data.find(u=>u.name.common===e).flag),this.pageMode==i.guessCity&&(e=this.data.find(u=>u.name.common===e).capital[0]),e===this.guess?(this.guessed++,this.guess=this.generateRandomCountry(),n=this.snackBarService.setSnackGuessCountryData("Successful guess!",!0)):(n=this.snackBarService.setSnackGuessCountryData("Wrong answer!",!1),this.guess=this.generateRandomCountry()),this.snackBarService.openSnack(n),this.cdr.detectChanges()}generateRandomCountry(){return this.guess=this.dataList[Math.floor(Math.random()*this.dataList.length-1)]}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(m.wm),t.Y36(t.sBO),t.Y36(m.cw),t.Y36(r.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-guess-country"]],decls:9,vars:5,consts:[["routerLink","..","mat-raised-button","","color","primary"],[1,"container","d-flex","justify-content-center"],[1,"chart"],[3,"geoJsonUrl","mapName","mapType","selectedCountry"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"h2"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"app-echart-geo-map",3),t.NdJ("selectedCountry",function(c){return n.onGuessCountry(c)}),t.qZA(),t.qZA(),t.TgZ(7,"h2"),t._uU(8),t.qZA()),2&e&&(t.xp6(4),t.hij(" ",n.guess," "),t.xp6(2),t.Q6J("geoJsonUrl",n.geoJsonUrl)("mapName",n.mapName)("mapType",n.mapType),t.xp6(2),t.hij("Guessed countries: ",n.guessed,""))},directives:[l.lW,r.rH,y.o],styles:[".chart[_ngcontent-%COMP%]{height:50%}"]}),s})();var h=o(4929);function G(s,a){if(1&s){const e=t.EpF();t.TgZ(0,"mat-grid-tile",3),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().onOpenPage(c.name)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&s){const e=a.$implicit;t.xp6(2),t.hij(" ",e.name,"")}}const P=[{path:d._.empty,component:(()=>{class s{constructor(e,n){this.router=e,this.route=n,this.guessModulesPage=[]}ngOnInit(){this.getGuessModulePages().forEach(n=>{this.guessModulesPage.push({name:n,image:`image-path/${n}`})})}getGuessModulePages(){return Object.keys(i).filter(e=>isNaN(+e))}onOpenPage(e){this.router.navigate([e],{relativeTo:this.route})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.F0),t.Y36(r.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-guess-countries-page"]],decls:4,vars:1,consts:[["routerLink","..","mat-raised-button","","color","primary"],["cols","3","rowHeight","1:1"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"mat-grid-list",1),t.YNc(3,G,3,1,"mat-grid-tile",2),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.guessModulesPage))},directives:[l.lW,r.rH,h.Il,p.sg,h.DX],styles:["mat-grid-tile[_ngcontent-%COMP%]{background:lightblue}mat-grid-tile[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),s})()},{path:":page",component:v}];let T=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[r.Bz.forChild(P)],r.Bz]}),s})();var Z=o(9017);let S=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[p.ez,T,Z.m]]}),s})()}}]);