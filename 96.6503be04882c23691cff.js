"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[96],{3096:(M,h,n)=>{n.r(h),n.d(h,{EconomyModule:()=>E});var r=n(8583),l=n(4655),p=n(27),c=n(1974),d=n(6215),u=n(5319),e=n(7716),m=n(3222),g=n(1402);let v=(()=>{class i{constructor(t){this.el=t}ngAfterViewInit(){this.setTextWidth()}setTextWidth(){var t;if(this.textCointainerWidth=this.el.nativeElement.clientWidth,this.textWidth=this.el.nativeElement.childNodes[0].offsetWidth,this.textCointainerWidth<=this.textWidth){let o=Number(null===(t=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("font-size").match(/\d/g))||void 0===t?void 0:t.join(""));for(;this.textWidth>this.textCointainerWidth;)this.el.nativeElement.style.fontSize=`${o}px`,o--,this.textWidth=this.el.nativeElement.childNodes[0].offsetWidth}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i,selectors:[["","appFontSizer",""]]}),i})();function y(i,s){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",3),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4),e.TgZ(5,"span",4),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&i){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.AsE(" | ",t.standardPrice," | ",t.currentPrice," | "),e.xp6(1),e.Q6J("ngClass",t.pricePercentChanges>0?"increase":"decrease"),e.xp6(1),e.hij("",t.pricePercentChanges,"%")}}const f=function(){return{}},P=[{path:p._.empty,component:(()=>{class i{constructor(t){this.themeService=t,this.options$=new d.X({}),this.cocktailsList$=new d.X(null),this.themeSubscriotion$=new u.w,this.base=+new Date(1968,9,3),this.oneDay=864e5,this.date=[],this.data1=[200],this.data2=[300]}ngOnDestroy(){clearInterval(this.interval),this.themeSubscriotion$.unsubscribe(),c.dispose(this.chart)}ngOnInit(){this.initCocktails(),this.initOptions(),this.initLocalValues(),this.initChart(),this.setLocalInterval(),this.themeSubscriotion$=this.themeService.isDark$.subscribe(t=>{this.changeChartTheme()})}initChart(){let t=document.getElementById("chart");t&&(this.chart=c.init(t,this.themeService.isDark$.value?"dark":"white")),this.chart.setOption(this.options$.value)}initLocalValues(){let t=new Date(this.base+=this.oneDay);this.date.push([t.getFullYear(),t.getMonth()+1,t.getDate()].join("/"))}setLocalInterval(){this.interval=setInterval(()=>{let t=new Date(this.base+=this.oneDay);this.date.push([t.getFullYear(),t.getMonth()+1,t.getDate()].join("/")),this.generateData(),this.chart.setOption(this.options$.value)},1e3)}initOptions(){this.options$.next({tooltip:{trigger:"axis"},title:{left:"center",text:"Large Area Chart"},xAxis:{type:"category",boundaryGap:!1,data:this.date},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:this.zoomTracking,end:100},{start:this.zoomTracking,end:100}],series:[{name:"Data 1",type:"line",emphasis:{focus:"series"},itemStyle:{color:"green"},data:this.data1,label:{show:!0,position:"top"}},{name:"Data 2",type:"line",emphasis:{focus:"series"},itemStyle:{color:"red"},data:this.data2,label:{show:!0,position:"top"}}]})}initCocktails(){this.cocktailsList$.next([{name:"Green cocktail",standardPrice:200,currentPrice:0,pricePercentChanges:0},{name:"Red cocktail",standardPrice:300,currentPrice:0,pricePercentChanges:0}])}generateData(){const t=this.cocktailsList$.value;if(t){for(const a of t)a.currentPrice=Math.floor(Math.random()*(a.standardPrice+50-(a.standardPrice-50)+1)+a.standardPrice-50),a.pricePercentChanges=Math.floor((a.standardPrice-a.currentPrice)/(a.standardPrice/100)*100)/100;this.data1.push(t[0].currentPrice),this.data2.push(t[1].currentPrice)}this.cocktailsList$.next(t)}changeChartTheme(){c.dispose(this.chart),this.initChart()}calculateZoomStart(){const o=Math.round(100-10/(this.data1.length/100));return o>0?o:0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.fY))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-economy-page"]],decls:6,vars:8,consts:[[1,"left-container"],[4,"ngFor","ngForOf"],["echarts","","id","chart",3,"hidden","options"],["appFontSizer","",1,"cocktail-container",2,"padding","8px 0"],[3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.YNc(2,y,7,5,"div",1),e.ALo(3,"async"),e.qZA(),e._UZ(4,"div",2),e.ALo(5,"async"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,3,o.cocktailsList$)),e.xp6(2),e.Q6J("hidden",e.lcZ(5,5,o.options$)===e.DdM(7,f))("options",o.options$.value))},directives:[r.sg,g._w,v,r.mk],pipes:[r.Ov],styles:[".left-container[_ngcontent-%COMP%]{width:20%}.cocktail-container[_ngcontent-%COMP%]{font-size:25px;white-space:nowrap}.increase[_ngcontent-%COMP%]{color:green}.decrease[_ngcontent-%COMP%]{color:red}"],changeDetection:0}),i})()}];let x=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.Bz.forChild(P)],l.Bz]}),i})();var S=n(8624),D=n(4256);let E=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.ez,x,S.m,D.I]]}),i})()}}]);