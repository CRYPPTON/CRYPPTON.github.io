"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[989],{3989:(U,p,s)=>{s.r(p),s.d(p,{CustomCountryModule:()=>N});var a=s(8583),c=s(3423),m=s(27),C=s(5321),d=s(6215),h=s(9765),g=s(5758),y=s(1974),v=s(8002),t=s(7716),f=s(3227),T=s(1095),Z=s(1215),b=s(7154);function B(e,r){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-basic-echarts",7),t.qZA()),2&e){const o=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("data",o)("title",n.title)}}function G(e,r){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"json"),t.YNc(3,B,2,2,"div",6),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,o)," "),t.xp6(2),t.Q6J("ngIf",2===o.length)}}const D=[{path:m._.empty,component:(()=>{class e{constructor(o){this.httpCountryService=o,this.countriesData$=new d.X([]),this.geoJsonUrl="assets/geo-json/countries2.json",this.mapName="world",this.mapType=C.z.worldMap,this.isBlueGroup=!0,this.title={title:"Group1 vs Group2",subtext:"comparation"},this.groupData=[],this.unsubscribe$=new h.xQ}ngOnInit(){this.initialValue()}ngOnDestroy(){this.unsubscribe()}onSelectedCountry(o){this.isBlueGroup?this.selectedCountriesGroup1.push(o):this.selectedCountriesGroup2.push(o)}initialValue(){this.selectedCountriesGroup1=[],this.selectedCountriesGroup2=[]}onCompare(){this.sumSelectedCountriesPopulation(this.selectedCountriesGroup1,"Blue"),this.sumSelectedCountriesPopulation(this.selectedCountriesGroup2,"Red")}onReset(){this.unselectCountries(),this.groupData=[],this.selectedCountriesGroup1=[],this.selectedCountriesGroup2=[],this.countriesData$.next([])}setBlue(){this.isBlueGroup=!0}setRed(){this.isBlueGroup=!1}sumSelectedCountriesPopulation(o,n){(0,g.D)(o.map(u=>this.httpCountryService.getCountryDataByName(u))).pipe((0,v.U)(u=>u.map(i=>i[0].population).reduce((i,l)=>i+l,0))).subscribe(u=>this.pushGroupData(u,n))}pushGroupData(o,n){this.groupData.push({name:n,value:o}),this.countriesData$.next(this.groupData)}unselectCountries(){const o=document.getElementById("chart"),n=y.getInstanceByDom(o);let u=n.getOption(),i=u.series;for(const[l,M]of Object.entries(i[0].selectedMap))i[0].selectedMap[l]=!1;n.setOption(u)}unsubscribe(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.wm))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-custom-country-page"]],decls:15,vars:7,consts:[["routerLink","..","mat-raised-button","","color","primary"],[1,"chart"],[3,"geoJsonUrl","mapName","mapType","colorInput","selectedCountry"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],[4,"ngIf"],[3,"data","title"]],template:function(o,n){1&o&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"app-echart-geo-map",2),t.NdJ("selectedCountry",function(i){return n.onSelectedCountry(i)}),t.qZA(),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",3),t.NdJ("click",function(){return n.setBlue()}),t._uU(6,"group 1"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return n.setRed()}),t._uU(8,"group 2"),t.qZA(),t.TgZ(9,"button",5),t.NdJ("click",function(){return n.onReset()}),t._uU(10,"Reset"),t.qZA(),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return n.onCompare()}),t._uU(12,"compare"),t.qZA(),t.YNc(13,G,4,4,"div",6),t.ALo(14,"async")),2&o&&(t.xp6(3),t.Q6J("geoJsonUrl",n.geoJsonUrl)("mapName",n.mapName)("mapType",n.mapType)("colorInput",n.isBlueGroup?"blue":"red"),t.xp6(10),t.Q6J("ngIf",t.lcZ(14,5,n.countriesData$)))},directives:[T.lW,c.rH,Z.o,a.O5,b.r],pipes:[a.Ov,a.Ts],styles:[".chart[_ngcontent-%COMP%]{height:50%}"],changeDetection:0}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(D)],c.Bz]}),e})();var A=s(8493);let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,P,A.m]]}),e})()}}]);