"use strict";(self.webpackChunkcountries_comparison=self.webpackChunkcountries_comparison||[]).push([[997],{5997:(j,y,a)=>{a.r(y),a.d(y,{CountryModule:()=>P});var c=a(8583),u=a(2305),C=a(27),f=a(5321),t=a(7716),m=a(7874),g=a(1095),v=a(1215),Z=a(7154);function D(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",e," : ",t.lcZ(2,2,o.countryData[e])," ")}}let S=(()=>{class n{constructor(e,o){this.route=e,this.httpCountryService=o,this.data=[{value:10,name:"magyar"},{value:5,name:"bosnian"},{value:5,name:"croats"},{value:80,name:"serb"}],this.title={title:"<country>",subtext:"% population"},this.geoJsonUrl="../../../../../assets/geo-json/countries.geojson",this.mapType=f.z.countryMap}ngOnInit(){this.initPathParam(),this.initCountryData()}ngOnDestroy(){this.countySubscription$.unsubscribe()}initPathParam(){this.countySubscription$=this.route.params.subscribe(e=>{this.country=e.state,this.title.title=this.country})}initCountryData(){this.httpCountryService.getCountryDataByName(this.country).subscribe(e=>{e&&(this.countryData=e[0],this.countryDataKey=Object.keys(this.countryData))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(m.wm))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-single-country-details"]],decls:8,vars:7,consts:[["routerLink","..","mat-raised-button","","color","primary"],[2,"height","20%",3,"geoJsonUrl","mapName","mapType"],[3,"data","title"],[1,"container"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t._uU(1,"Back"),t.qZA(),t.TgZ(2,"h1"),t._uU(3),t.qZA(),t._UZ(4,"app-echart-geo-map",1),t._UZ(5,"app-basic-echarts",2),t.TgZ(6,"div",3),t.YNc(7,D,3,4,"div",4),t.qZA()),2&e&&(t.xp6(3),t.hij("",o.country," details"),t.xp6(1),t.Q6J("geoJsonUrl",o.geoJsonUrl)("mapName",o.country)("mapType",o.mapType),t.xp6(1),t.Q6J("data",o.data)("title",o.title),t.xp6(2),t.Q6J("ngForOf",o.countryDataKey))},directives:[g.lW,u.rH,v.o,Z.r,c.sg],pipes:[c.Ts],styles:[""]}),n})();var p=(()=>{return(n=p||(p={})).europe="Europe",n.africa="Africa",n.oceania="Oceania",n.northAmerica="North America",n.southAmerica="South America",n.asia="Asia",p;var n})(),l=a(171),r=a(3679),h=a(8295),b=a(6627),T=a(9983),d=a(4929);function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClearSearch()}),t.TgZ(1,"mat-icon",11),t._uU(2,"clear"),t.qZA(),t.qZA()}}function x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-grid-tile"),t.TgZ(1,"div",12),t.NdJ("click",function(){const q=t.CHM(e).$implicit;return t.oxw().onNavigateToCountry(q.name.common)}),t.TgZ(2,"span",13),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.name.common),t.xp6(1),t.hij(" ",e.flag," ")}}let F=(()=>{class n{constructor(e,o,s){this.router=e,this.route=o,this.countryModuleStoreService=s}get data(){return this.filteredData?this.filteredData:this.selectedContinent?this.countryModuleStoreService.continentsData[this.selectedContinent]:this.countryModuleStoreService.allCountriesData}ngAfterContentInit(){this.selectedContinent||(this.filteredData=this.data)}ngOnInit(){this.initQuerySearchForm()}initQuerySearchForm(){var e;this.querySearchForm=new r.cw({query:new r.NI("")}),null===(e=this.querySearchForm.get("query"))||void 0===e||e.valueChanges.subscribe(o=>{this.filteredData=this.countryModuleStoreService.continentsData[this.selectedContinent],this.filteredData=this.filterCountry(o)})}onNavigateToCountry(e){this.router.navigate([e],{relativeTo:this.route})}onClearSearch(){var e;null===(e=this.querySearchForm.get("query"))||void 0===e||e.setValue("")}filterCountry(e){return e=e.toLocaleLowerCase().trim(),this.data.filter(s=>s.name.common.toLocaleLowerCase().trim().includes(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(m.vQ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-countries-dashboard"]],inputs:{selectedContinent:"selectedContinent"},decls:12,vars:3,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign"," center",1,"filter-and-sort-container"],[1,"table-filter"],[3,"formGroup"],["matPrefix","","fontSet","fal","fontIcon","fa-search"],["formControlName","query","matInput","","type","text","autocomplete","off"],["querySearch",""],["class","d-inline","mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["cols","4","rowHeight","2:1"],[4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",1,"d-inline",3,"click"],["aria-hidden","false"],[1,"country-item",3,"click"],[1,"country-title"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"mat-form-field",3),t.TgZ(4,"mat-label"),t._uU(5,"Find country"),t.qZA(),t._UZ(6,"mat-icon",4),t._UZ(7,"input",5,6),t.YNc(9,A,3,0,"button",7),t.qZA(),t.qZA(),t.TgZ(10,"mat-grid-list",8),t.YNc(11,x,5,2,"mat-grid-tile",9),t.qZA(),t.qZA(),t.qZA()),2&e){const s=t.MAs(8);t.xp6(3),t.Q6J("formGroup",o.querySearchForm),t.xp6(6),t.Q6J("ngIf",s.value),t.xp6(2),t.Q6J("ngForOf",o.data)}},directives:[h.KE,r.JL,r.sg,h.hX,b.Hw,h.qo,r.Fj,T.Nt,r.JJ,r.u,c.O5,d.Il,c.sg,g.lW,h.R9,d.DX],styles:[".container[_ngcontent-%COMP%]{height:500px;overflow-y:auto}.dashboard-img[_ngcontent-%COMP%]{height:50px}.country-item[_ngcontent-%COMP%]{cursor:pointer}.country-title[_ngcontent-%COMP%]{margin-right:4px}"]}),n})();function M(n,i){if(1&n&&(t.TgZ(0,"mat-expansion-panel"),t.TgZ(1,"mat-expansion-panel-header"),t.TgZ(2,"mat-panel-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-panel-description"),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"app-countries-dashboard",1),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e," Countries "),t.xp6(2),t.hij(" Expand ",e," countries list "),t.xp6(1),t.Q6J("selectedContinent",e)}}const U=[{path:C._.empty,component:(()=>{class n{constructor(e,o){this.httpContinentService=e,this.countryModuleStoreService=o,this.countries=[],this.compareData=[{name:"",value:0},{name:"",value:0}],this.compareTitle={title:"Population",subtext:"%"}}ngOnInit(){this.continents=this.initContinentsEnumValue(),this.countryModuleStoreService.allCountriesData||this.getAllCountriesData(),this.httpContinentService.getCountryDataByName("serbia").subscribe(e=>{this.compareData[0].value=e[0].population,this.compareData[0].name="serbia"}),this.httpContinentService.getCountryDataByName("montenegro").subscribe(e=>{this.compareData[1].value=e[0].population,this.compareData[1].name="montenegro"})}ngAfterContentInit(){this.initGetCountriesByContinentName()}initContinentsEnumValue(){return Object.entries(p).filter(e=>!parseInt(e[0])).map(e=>e[1])}initGetCountriesByContinentName(){for(const e of this.continents)this.getContinentsData(e)}getContinentsData(e){this.countryModuleStoreService.continentsData[e]||this.httpContinentService.getCountriesByContinentName(e.toLowerCase()).subscribe(o=>{this.countryModuleStoreService.continentsData[e]=o})}getAllCountriesData(){this.httpContinentService.getCountriesData().subscribe(e=>{e.forEach(o=>{this.countries.push(o.name.common)}),this.countryModuleStoreService.allCountriesData=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.wm),t.Y36(m.vQ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-page"]],decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"selectedContinent"]],template:function(e,o){1&e&&(t._UZ(0,"br"),t.TgZ(1,"h3"),t._uU(2,"Search Country Details by Continent"),t.qZA(),t.TgZ(3,"mat-accordion"),t.YNc(4,M,7,3,"mat-expansion-panel",0),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",o.continents))},directives:[l.pp,c.sg,l.ib,l.yz,l.yK,l.u4,F],styles:[""]}),n})()},{path:":state",component:S}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(U)],u.Bz]}),n})();var O=a(9017);let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,J,O.m]]}),n})()}}]);